% % % % % % % % % % % % %
% % % % % % % %
% %
% % Style for Linear Algebra textbook
% %
% % % % % % % %
% % % % % % % % % % % % %




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% COLOURS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %

% Title page colours
\definecolor{titletextcolour}{HTML}{044155}
\definecolor{subtitletextcolour}{HTML}{FFF6DB}
\definecolor{cctextcolour}{HTML}{FFF6DB}
\definecolor{titlemainbgcolour}{HTML}{E2AB0A}
\definecolor{titlemainboxcolour}{HTML}{F9D876}
\definecolor{sampletextcolour}{HTML}{B19545}

% LSCS page text colour
\definecolor{lscshdrboxcolour}{HTML}{E2AB0A}
\definecolor{lscstextcolour}{HTML}{044155}

% Chapter, Section & Subsection titles
\definecolor{chaptertitlecolour}{HTML}{840125}
\definecolor{sectiontitlecolour}{HTML}{0C164B}
\definecolor{subsectiontitlecolour}{HTML}{003835}
\definecolor{subsubsectiontitlecolour}{HTML}{F5AE2A}

% Example, Definition, Formula & Theorem box colours
\definecolor{theoremcolour}{HTML}{840125}
\definecolor{definitioncolour}{HTML}{0C164B}
\definecolor{examplecolour}{HTML}{003835}
\definecolor{solutioncolour}{HTML}{003835}
\definecolor{outcomecolour}{HTML}{E0B659}

% %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% . . . End of Colours . . . 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Boxes and environments for Definitions, Examples, Theorems & Outcomes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



% Style and setup of Definition, Theorem, and Example environments
\newcounter{mytheorem}[chapter]
\def\themytheorem{\thechapter.\arabic{mytheorem}}
\tcbset{
	defstyle/.style={fonttitle=\bfseries\upshape, fontupper=\slshape,
		colback=definitioncolour!5,colframe=definitioncolour,before={\par\bigskip\pagebreak[0]\parindent=0pt},after={\par\bigskip},top=1mm,bottom=1mm},
	theostyle/.style={fonttitle=\bfseries\upshape, fontupper=\slshape,
		colback=chaptertitlecolour!5,colframe=chaptertitlecolour,before={\par\bigskip\pagebreak[0]\parindent=0pt},after={\par\bigskip},top=1mm,bottom=1mm},
	examstyle/.style={fonttitle=\bfseries\upshape, fontupper=\slshape,
		colback=examplecolour!5,colframe=examplecolour,before={\par\bigskip\pagebreak[0]\parindent=0pt},after={\par\bigskip},top=1mm,bottom=1mm},
	solutiontyle/.style={fonttitle=\bfseries\upshape, fontupper=\slshape,
		colback=solutioncolour!5,colframe=solutioncolour,before={\par\bigskip\pagebreak[0]\parindent=0pt},after={\par\bigskip},top=1mm,bottom=1mm},
}
\tcbmaketheorem{definition}{Definition}{defstyle}{mytheorem}{def}
\tcbmaketheorem{theorem}{Theorem}{theostyle}{mytheorem}{thm}
\tcbmaketheorem{corollary}{Corollary}{theostyle}{mytheorem}{cor}
\tcbmaketheorem{example}{Example}{examstyle}{mytheorem}{exa}

% following to fixexerci
\tcbmaketheorem{proposition}{Proposition}{theostyle}{mytheorem}{prop}
\tcbmaketheorem{procedure}{Procedure}{solutiontyle}{mytheorem}{proc}
\tcbmaketheorem{exercise}{Exercise}{solutiontyle}{mytheorem}{exe}
\tcbmaketheorem{lemma}{Lemma}{theostyle}{mytheorem}{lem}
\tcbmaketheorem{observation}{Observation}{examstyle}{mytheorem}{obs}
\tcbmaketheorem{algorithm}{Algorithm}{defstyle}{mytheorem}{algo}
\tcbmaketheorem{notation}{Notation}{defstyle}{mytheorem}{not}
\tcbmaketheorem{solution}{Solution}{solutiontyle}{mytheorem}{sol}

% Outcomes
\newtcolorbox{outcome}{fonttitle=\bfseries\upshape,fontupper=\slshape,
	colback=white,colframe=outcomecolour,before={\par\bigskip\pagebreak[0]\parindent=0pt},after={\par\bigskip},top=1mm,bottom=1mm,title=Outcomes}


% This bit of code allows the spadesuit â™  in the Solution & Proof environment to be on the bottom right of the page
\newcommand\xqed[1]{%
	\leavevmode\unskip\penalty9999 \hbox{}\nobreak\hfill
	\quad\hbox{#1}}

% Solution environment for Examples
\def\solution{\par\noindent{\solutionfont{\bf{\underline{Solution.}}}} \ignorespaces}
\def\endsolution{\solutionfont{\bf\xqed{$\spadesuit$}}\par\medskip}

% Proof environment for Theorems
\def\proof{\par\noindent{\prooffont{\bf{\underline{Proof.}}}} \ignorespaces}
\def\endproof{\prooffont{\bf\xqed{$\spadesuit$}}\par\medskip}

%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Special commands and shorthand commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Shorthand commands for colours used in proof and theorem environments
\def\prooffont#1{{{\bf{\textcolor{theoremcolour}{#1}}}}}
\def\solutionfont#1{{{\bf{\textcolor{solutioncolour}{#1}}}}}
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Custom and shorthand Math commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% MATH shortcuts that can be tweaked
\newcommand{\opft}{\mathgroup\symoperators}
\newcommand{\lip}{\mathop{\opft Lip}\nolimits}
\newcommand{\Res}{\mathop{\opft Res}\nolimits}
\newcommand{\INT}{\mathop{\opft int}\nolimits}
\newcommand{\spt}{\mathop{\opft spt}\nolimits}
\newcommand{\ann}{\mathop{\opft ann}\nolimits}
\newcommand{\diam}{\mathop{\opft diam}\nolimits}
\newcommand{\dist}{\mathop{\opft dist}\nolimits}

\providecommand{\text}[1]{\mbox{#1}}
\providecommand{\func}[1]{\mbox{#1}}
\providecommand{\limfunc}[1]{\mbox{#1}}

% Matrix setup
\setcounter{MaxMatrixCols}{10}

% Row reduced echelon form options. Note: these must be used with
% braces like {\rref} to get the correct spacing before and after.
\newcommand{\RREF}{Reduced Echelon Form}
\newcommand{\Rref}{Reduced echelon form}
\newcommand{\rref}{reduced echelon form}

% Row-Echelon Form Options. Note: these must be used with braces like
% {\ef} to get the correct spacing before and after.
\newcommand{\EF}{Echelon Form}
\newcommand{\Ef}{Echelon form}
\newcommand{\ef}{echelon form}

% Vector Notation Options
\newcommand{\vect}[1]{{\bf #1}}
\newcommand{\longvect}{\overrightarrow}

% Using x or lambda as variable
\newcommand{\eigenVar}{x}

% Dot Product Notation Options
\newcommand{\dotprod}{\mathbin{\makebox[0.7ex][c]{\raisebox{-0.6ex}{\scalebox{2}{$\cdot$}}}}}

% Vector Length Notation
\newcommand{\vectlength}{\|}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Other useful macros

% For commenting out text.
\long\def\void#1{}

% For marking an entry in a matrix
\newcommand*\circled[1]{\!\!\!\tikz[baseline=(char.base)]{
            \node[shape=circle,inner sep=1pt,draw=red!70,fill=red!20] (char) {$#1$};}\!\!\!}

% For putting something in the index after expanding tokens. Note that,
% for example, \index{\ef} does not work correctly, as it will be
% alphabetized under backslash, rather than "echelon". Use
% \eindex{\ef} instead.
\newcommand{\eindex}[1]{{\edef\tmpa{#1}\def\tmpb##1\relax{\index{##1}}\expandafter\tmpb\tmpa\relax}}

% SI units are always typeset in a Roman font, even if the surrounding
% text is in italics. We use \mathop so that there will be a tiny
% space between each unit; this makes things like kgms easier to read.
\newcommand{\SI}[1]{\mathop{\textrm{\rm #1}}\nolimits}
\newcommand{\m}{\SI{m}}
\newcommand{\kg}{\SI{kg}}
\newcommand{\s}{\SI{s}}
\newcommand{\volt}{\SI{V}}
\newcommand{\amp}{\SI{A}}
\newcommand{\ohm}{\SI{$\Omega$}}

% Shorthand command for some standard sets
\newcommand{\N}{\mathbb{N}}  % natural numbers
\newcommand{\Z}{\mathbb{Z}}  % integers
\newcommand{\Q}{\mathbb{Q}}  % rationals
\newcommand{\R}{\mathbb{R}}  % reals
\newcommand{\C}{\mathbb{C}}  % complex numbers

% Other shorthand notations for sets
\newcommand{\Poly}{\mathbf{P}}   % vector space of polynomials
\newcommand{\Mat}{\mathbf{M}}    % vector space of matrices
\newcommand{\Func}{\mathbf{F}}   % vector space of functions

% Matrices with square brackets.
\newenvironment{mymatrix}[1]{\left[\begin{array}{#1}}{\end{array}\right]}
\newcommand{\mat}[1]{\left[#1\right]}

% Matrices with vertical bars. Also used for absolute value and cardinality.
\newenvironment{absmatrix}[1]{\left|\begin{array}{#1}}{\end{array}\right|}
\newcommand{\abs}[1]{\left|#1\right|}

% For writing a set, use $\set{...}$ or $\set{...\mid...}$.
\newcommand{\set}[1]{\left\{#1\right\}}

% For writing a tuple, use $\tup{...}$ instead of $\left(...\right)$.
\newcommand{\tup}[1]{\left(#1\right)}
