\section{Subspaces}
\label{sec:vector-space-subspaces}

\begin{outcome}
  \begin{enumerate}
  \item Determine whether a set of vectors is a subspace of a given
    vector space.
  \item Determine whether two sets of vectors span the same subspace.
  \end{enumerate}
\end{outcome}

In this section we will consider subspaces of general vector spaces.

\begin{definition}{Subspace}{subspace-vector-space}
  Let $V$ be a vector space over a field $K$. A subset $W\subseteq V$
  is said to be a \textbf{subspace}\index{subspace} of\/ $V$ if the
  following conditions hold:
  \begin{enumerate}
  \item $\vect{0}\in W$, where $\vect{0}$ is the additive unit of\/ $V$.
  \item $W$ is \textbf{closed under addition}%
    \index{closed under!addition}%
    \index{addition!close under}: Whenever $\vect{u}, \vect{v}\in W$,
    then $\vect{u} + \vect{v}\in W$.
  \item $W$ is \textbf{closed under scalar multiplication}%
    \index{closed under!scalar multiplication}%
    \index{scalar multiplication!closed under}: Whenever $k\in K$ and
    $\vect{u}\in W$, then $k\vect{u}\in W$.
  \end{enumerate}
\end{definition}

\begin{example}{Subspaces of $\R^3$}{subspaces-r3}
  As we have seen in Section~\ref{sec:subspaces-rn}, the subspaces of
  $\R^3$ are:
  \begin{itemize}
  \item the zero subspace%
    \index{zero subspace} $\set{\vect{0}}$;
  \item lines through the origin;
  \item planes through the origin;
  \item $\R^3$ itself.
  \end{itemize}
\end{example}

\begin{example}{Space of continuous functions}{subspace-continuous}
  Let $V = \Func_{\R,\R}$, the vector space of functions from real numbers to
  real numbers. Let $W\subseteq V$ be the subset of {\em continuous}
  functions%
  \index{continuous function}%
  \index{function!continuous}. Then $W$ is a subspace of\/ $V$.
\end{example}

\begin{proof}
  We know from calculus that:
  \begin{enumerate}
  \item the zero function, defined by $f(x)=0$ for all $x$, is
    continuous;
  \item if $f,g$ are continuous functions, then $f+g$ is
    continuous;
  \item if $f$ is a continuous function and $k$ a constant, then $kf$
    is continuous.
  \end{enumerate}
  It follows that $W$ contains $0$, and is closed under addition and
  scalar multiplication. Therefore, $W$ is a subspace of\/ $V$.
\end{proof}

\begin{example}{Space of differentiable functions}{subspace-differentiable}
  Let $V = \Func_{\R,\R}$. Recall from calculus that a function
  $f:\R\to\R$ is called \textbf{differentiable}%
  \index{differentiable function}%
  \index{function!differentiable} if the derivative $f'(x)$ exists for
  all $x\in\R$. Let $W\subseteq V$ be the subset of differentiable
  functions. Then $W$ is a subspace of\/ $V$.
\end{example}

\begin{proof}
  We know from calculus that:
  \begin{enumerate}
  \item The zero function, defined by $f(x)=0$ for all $x$, is
    differentiable. In fact, its derivative is $f'(x) = 0$.
  \item If $f,g$ are differentiable functions, then $h=f+g$ is
    differentiable. In fact, $h'(x) = f'(x) + g'(x)$.
  \item if $f$ is a differentiable function and $k$ a constant, then
    $h=kf$ is differentiable. In fact, $h' = kf'$.
  \end{enumerate}
  It follows that $W$ contains $0$, and is closed under addition and
  scalar multiplication. Therefore, $W$ is a subspace of\/ $V$.
\end{proof}

\begin{example}{Space of sequences satisfying a linear recurrence}{subspace-recurrence}
  Let $V=\Seq_{\R}$, the vector space of sequences of real
  numbers. Let
  \begin{equation*}
    W = \set{a \in \Seq_{\R} \mid \mbox{for all $n\geq 0$, $a_{n+2}=a_n+a_{n+1}$}}.
  \end{equation*}
  In other words, $W$ is the set of all sequences satisfying the
  recurrence relation $a_{n+2}=a_n+a_{n+1}$. Then $W$ is a subspace of\/ $V$.
\end{example}

\begin{proof}
  \def\x#1{\makebox[1.2em][r]{$#1$}}
  \def\y#1{\makebox[3em][r]{$#1$}}
  \def\z#1{\makebox[0em][l]{$#1$}}
  Before we prove that $W$ is a subspace, let us first consider an
  example. The following sequences are elements of\/ $W$, because they
  both satisfy the recurrence:
  \begin{equation*}
    \begin{array}{rc@{}l}
      \y{a} &=& \x{(1},\x{1},\x{2},\x{3},\x{5},\x{8},\x{13},\x{21},\x{\ldots})\z{\,,} \\
      \y{b} &=& \x{(1},\x{3},\x{4},\x{7},\x{11},\x{18},\x{29},\x{47},\x{\ldots})\z{\,.}
    \end{array}
  \end{equation*}
  Note that if we add these sequences, we get
  \begin{equation*}
    \begin{array}{rc@{}l}
      \y{a+b} &=& \x{(2},\x{4},\x{6},\x{10},\x{16},\x{26},\x{42},\x{68},\x{\ldots})\z{\,,} \\
    \end{array}
  \end{equation*}
  which again satisfies the recurrence. Therefore, the set $W$ is
  closed under the addition of these particular sequences $a$ and
  $b$. We now prove the properties in general.
  \begin{enumerate}
  \item Let $z$ be the zero sequence%
    \index{zero sequence}%
    \index{sequence!zero sequence}, defined by $z_n=0$ for all $n$.
    Then $z$ satisfies the recurrence relation, since for all $n\geq 0$,
    $z_{n+2}=0=z_n+z_{n+1}$. Therefore $z\in W$.
  \item To show that $W$ is closed under addition, consider any two
    sequences $a,b\in W$, and let $c=a+b$. Then for all $n\geq 0$,
    \begin{equation*}
      c_{n+2}
      = a_{n+2} + b_{n+2}
      = (a_n + a_{n+1}) + (b_n + b_{n+1})
      = (a_n + b_n) + (a_{n+1} + b_{n+1})
      = c_n + c_{n+1},
    \end{equation*}
    so $c$ satisfies the recurrence. It follows that $c\in W$, and
    therefore $W$ is closed under addition.
  \item To show that $W$ is closed under scalar multiplication,
    consider any $k\in\R$ and $a\in W$, and let $c=ka$. Then for all
    $n\geq 0$,
    \begin{equation*}
      c_{n+2}
      = ka_{n+2}
      = k(a_n + a_{n+1})
      = ka_n + ka_{n+1}
      = c_n + c_{n+1},
    \end{equation*}
    so $c$ satisfies the recurrence. It follows that $c\in W$, and
    therefore $W$ is closed under scalar multiplication.
  \end{enumerate}
\end{proof}

\begin{example}{Solution space of a linear differential equation}{subspace-differential-equation}
  Let $V=\Func_{\R,\R}$. Recall from calculus that a
  \textbf{differential equation}%
  \index{equation!differential|see{differential equation}}%
  \index{differential equation} is an equation about an unknown
  function and its derivatives. For example
  \begin{equation*}
    f'' = -f
  \end{equation*}
  is a differential equation. The functions $f(x)=\sin x$,
  $f(x)=\cos x$, and $f(x)=0$ are examples of solutions of this
  differential equation.  Let $W$ be the set of all functions that are
  solutions of the differential equation $f'' = -f$. Then $W$ is a
  subspace of\/ $V$.
\end{example}

\begin{proof}
  \begin{enumerate}
  \item The zero function $f(x)=0$ is a solution of the differential
    equation, and therefore an element of\/ $W$.
  \item To show that $W$ is closed under addition, let $f,g\in W$ and
    consider $h=f+g$. Then $f''=-f$ and $g''=-g$, and therefore
    $h'' = f'' + g'' = -f+(-g) = -h$. Therefore, $h\in W$, and $W$ is
    closed under addition.
  \item To show that $W$ is closed under scalar multiplication, let
    $k\in\R$ and $f\in W$, and consider $h=kf$. Then $f''=-f$, and
    therefore $h'' = kf'' = k(-f) = -h$. It follows that $h\in W$, and
    therefore $W$ is closed under scalar multiplication.
  \end{enumerate}
\end{proof}

\begin{example}{Subspace of polynomials}{polynomial-subspace}
  Consider $\Poly_2$, the vector space of polynomials of degree at
  most 2, with coefficients in a field $K$. Fix some element $r\in K$,
  and let $W \subseteq \Poly_2$ be the subset of polynomials that have
  $r$ as a root. Then $W$ is a subspace of $\Poly_2$.
\end{example}

\begin{proof}
  We can express $W$ as follows:
  \begin{equation*}
    W = \set{p\in\Poly_2 \mid p(r)  = 0}.
  \end{equation*}
  We need to show that $W$ is a subspace.
  \begin{enumerate}
  \item The zero polynomial, given by $0(x)=0$, satisfies $0(r)=0$, so
    $0\in W$.
  \item To show that $W$ is closed under addition, assume
    $p, q\in W$, and let $s=p+r$. Then $p(r)=0$ and $q(r)=0$,
    therefore $s(r) = p(r)+q(r) = 0$. It follows that $s\in W$.
  \item To show that $W$ is closed under scalar multiplication, assume
    $p(x)\in W$ and $k$ be a scalar. Then $(kp)(r)=k(p(r))=k0=0$, and
    therefore $kp\in W$.
  \end{enumerate}
\end{proof}

\begin{example}{Trivial subspaces of\/ $V$}{trivial-subspaces}
  Let $V$ be an arbitrary vector space over a field $K$. Then
  $\set{\vect{0}}$ is a subspace of\/ $V$, called the \textbf{zero
    subspace}. Also, $V$ is a subspace of itself.
\end{example}

\begin{proof}
  Clearly $\set{\vect{0}}$ contains $\vect{0}$, and is closed under
  addition and scalar multiplication because
  $\vect{0}+\vect{0}=\vect{0}$ and $k\vect{0}=\vect{0}$ for all $k$.
  Similarly, $V$ contains $\vect{0}$ and is closed under addition and
  scalar multiplication, because addition and scalar multiplication
  are operations on $V$.  Therefore, both $\set{\vect{0}}$ and $V$ are
  subspaces of\/ $V$.
\end{proof}

The interest of subspaces lies in the fact that they are vector spaces
in their own right, as stated in the following proposition.

\begin{proposition}{Subspaces are vector spaces}{subspaces-are-vector-spaces}
  Let $W$ be a subspace of a vector space $V$. Then $W$ satisfies the
  vector space axioms (A1)--(A4) and (SM1)--(SM4), with respect to the
  same operations (addition and scalar multiplication) as those
  defined on $V$.
\end{proposition}

\begin{proof}
  Since $W$ is a subspace, it is closed under addition and scalar
  multiplication. This ensures that addition and scalar multiplication
  are well-defined operations on $W$. The axioms (A1), (A2), (A4), and
  (SM1)--(SM4) all obviously hold in $W$, because they hold in $V$
  (two elements of\/ $W$ are equal in $W$ if and only if they are equal
  in $V$). The axiom (A3) holds because $\vect{0}\in W$.
\end{proof}

We end this section with an observation about spans.

\begin{proposition}{Span is smallest subspace containing given vectors}{span-subspace}
  Let $V$ be a vector space over some field $K$, and consider a set of
  vectors $S\subseteq V$. Then $\sspan S$ is the smallest subspace of\/
  $V$ containing $S$. More explicitly, we have:
  \begin{enumialphparenastyle}
    \begin{enumerate}
    \item The set $\sspan S$ is a subspace of\/ $V$, and
      $S\subseteq \sspan S$.
    \item If $W$ is any other subspace of\/ $V$ such that
      $S\subseteq W$, then $\sspan S\subseteq W$.
    \end{enumerate}
  \end{enumialphparenastyle}
\end{proposition}

\begin{proof}
  \begin{enumialphparenastyle}
    \begin{enumerate}
    \item To show that $\sspan S$ is a subspace, first note that
      $\vect{0}\in\sspan S$, because $\vect{0}$ is the empty linear
      combination. Also, if $\vect{v},\vect{u}\in\sspan S$, then by
      definition of span, there exist
      $\vect{v}_1,\ldots,\vect{v}_k,\vect{u}_1,\ldots,\vect{u}_{\ell}\in
      S$ and $a_1,\ldots,a_k,b_1,\ldots,b_{\ell}\in K$ such that
      \begin{eqnarray*}
        \vect{v} &=& a_1\vect{v}_1 + \ldots + a_k\vect{v}_k, \\
        \vect{u} &=& b_1\vect{u}_1 + \ldots + b_{\ell}\vect{u}_{\ell}.
      \end{eqnarray*}
      Then
      \begin{eqnarray*}
        \vect{v}+\vect{u}
        &=& a_1\vect{v}_1 + \ldots + a_k\vect{v}_k
            + b_1\vect{u}_1 + \ldots + b_{\ell}\vect{u},
      \end{eqnarray*}
      and therefore $\vect{v}+\vect{u}\in\sspan S$. It follows that
      $\sspan S$ is closed under addition. The proof for scalar
      multiplication is similar. Finally, every $\vect{v}\in S$ is
      trivially a linear combination of itself, $\vect{v}=1\vect{v}$,
      and therefore $S\subseteq \sspan S$.
    \item Consider any other subspace $W$ of $V$ such that
      $S\subseteq W$. To show that $\sspan S\subseteq W$, consider an
      arbitrary element $\vect{v}\in\sspan S$. By definition of span,
      there exist $\vect{v}_1,\ldots,\vect{v}_k\in S$ and
      $a_1,\ldots,a_k\in K$ such that
      $\vect{v}=a_1\vect{v}_1 + \ldots + a_k\vect{v}_k$. By
      assumption, $\vect{v}_1,\ldots,\vect{v}_k\in W$. Since $W$ is
      closed under addition and scalar multiplication, it follows that
      $\vect{v}\in W$. Since $\vect{v}$ was an arbitrary element of
      $\sspan S$, it follows that $\sspan S\subseteq W$.      
    \end{enumerate}
  \end{enumialphparenastyle}
\end{proof}

While the last proposition looks technical, it can actually be useful
for proving that two sets of vectors span the same subspace. The
following in an example of this.

\begin{example}{Equal spans}{equal-span}
  Show that the sets $S=\set{x^2-2x+1,~ x-1}$ and
  $T=\set{x^2-1,~ x^2-x}$ span the same subspace of $\Poly_2$. In other
  words, show that
  \begin{equation*}
    \sspan S = \sspan T.
  \end{equation*}
\end{example}

\begin{solution}
  To show that two sets are equal, we must show that each is a subset
  of the other. So we will show $\sspan S \subseteq \sspan T$ and
  $\sspan T \subseteq \sspan S$. By
  Proposition~\ref{prop:span-subspace}, it is sufficient to show that
  $S\subseteq \sspan T$ and $T\subseteq \sspan S$, i.e., we must show
  that every element of $S$ is a linear combination of elements of $T$
  and vice versa.
  \begin{enumerate}
  \item $S \subseteq \sspan T$. We have
    \begin{equation*}
      \begin{array}{rclcl}
      x^2-2x+1 &=& (-1)(x^2-1) + 2(x^2-x) &\in& \sspan T, \\
      x-1 &=& 1(x^2-1) - 1(x^2-x) &\in& \sspan T.
      \end{array}
    \end{equation*}
    Since each element of $S$ is an element of $\sspan T$, it follows
    that $S\subseteq\sspan T$. By
    Proposition~\ref{prop:span-subspace}, this implies that
    $\sspan S\subseteq \sspan T$.
  \item $T \subseteq \sspan S$. We have
    \begin{equation*}
      \begin{array}{rclcl}
        x^2-1 &=& 1(x^2-2x+1) - 2(x-1) &\in& \sspan S, \\
        x^2-x &=& 1(x^2-2x+1) - 1(x-1) &\in& \sspan S.
      \end{array}
    \end{equation*}
    Since each element of $T$ is an element of $\sspan S$, it follows
    that $T\subseteq\sspan S$. By
    Proposition~\ref{prop:span-subspace}, this implies that
    $\sspan T\subseteq \sspan S$.
  \end{enumerate}
\end{solution}
