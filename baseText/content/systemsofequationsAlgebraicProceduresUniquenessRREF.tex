\section{Uniqueness of the {\RREF}}

We have seen in earlier sections that every matrix can be brought into
{\rref} by a sequence of elementary row operations. Here we will prove
that the resulting matrix is unique; in other words, the resulting
matrix in {\rref} does not depend upon the particular sequence of
elementary row operations or the order in which they were performed.

Let $A$ be the augmented matrix of a homogeneous system of linear
equations in the variables $x_1, x_2, \cdots, x_n$ which is also in
{\rref}. Recall that the matrix $A$ divides the set of variables in
two different types: $x_i$ is a
{\em pivot variable}\index{variable!pivot} when column $i$ is a pivot
column, and a {\em free variable}\index{variable!free} otherwise.

\begin{example}{Pivot and Free Variables}{pivotfree}
Find the pivot and free variables in the following system, and find
the general solution.
\[
\begin{array}{c}
x+2y-z+w=0 \\
x+y-z+w=0 \\
x+3y-z+w=0
\end{array}
\]
\end{example}

\begin{solution}
The {\rref} of the augmented matrix is
\[
\leftB
\begin{array}{rrrr|r}
\circled{1} & 0 & -1 & 1 & 0 \\
0 & \circled{1} & 0 & 0 & 0 \\
0 & 0 & 0 & 0 & 0
\end{array}
\rightB.
\]
From this, we see that columns $1$ and $2$ are pivot
columns. Therefore, $x$ and $y$ are pivot variables and $z$ and $w$
are free variables. We can write the solution to this system as
\[
\begin{array}{r@{~}c@{~}l}
x &=& s-t \\
y &=& 0 \\
z &=& s \\
w &=& t.
\end{array}
\]
\end{solution}

In general, all solutions can be written in terms of the free
variables. In such a description, the free variables are written as
parameters, while the pivot variables are written as functions of
these parameters. Indeed, a pivot variable $x_i$ is a function of {\em
  only} those free variables $x_j$ with $j>i$. This leads to the
following observation.

\begin{proposition}{Pivot and Free Variables}{pivotfree}
  If $x_i$ is a pivot variable of a homogeneous system of linear
  equations, then any solution of the system with $x_j=0$ for all
  those free variables $x_j$ with $j>i$ must also have $x_i=0$.
\end{proposition}

Using this proposition, we prove a lemma which will be used in the
proof of the main result of this section.

\begin{lemma}{Solutions and the {\RREF} of a Matrix}{rrefsolutions}
  Let $A$ and $B$ be two augmented matrices for two homogeneous
  systems of $m$ equations in $n$ variables, such that $A$ and $B$ are
  each in {\rref}. If $A$ and $B$ are different, then the two systems
  do not have exactly the same solutions.
\end{lemma}

\begin{proof}
With respect to the linear systems associated with the matrices $A$ and $B$, there are two cases to consider:
\begin{itemize}
\item Case $1$: the two systems have the same pivot variables
\item Case $2$: the two systems do not have the same pivot variables
\end{itemize}
In case $1$, the two matrices will have exactly the same pivot positions. However, since $A$ and $B$ are not identical, there is some row of $A$ which is different from the corresponding row of $B$ and yet the rows each have a pivot in the same column position. Let $i$ be the index of this column position. Since the matrices are in {\rref}, the two rows must differ at some entry in a column $j>i$. Let these entries be $a$ in $A$ and $b$ in $B$, where $a \neq b$. Since $A$ is in {\rref}, if $x_j$ were a pivot variable for its linear system, we would have $a=0$. Similarly, if $x_j$ were a pivot variable for the linear system of the matrix $B$, we would have $b=0$. Since $a$ and $b$ are unequal, they cannot both be equal to $0$, and hence $x_j$ cannot be a pivot variable for both linear systems. However, since the systems have the same pivot variables, $x_j$ must then be a free variable for each system. We now look at the solutions of the systems in which $x_j$ is set equal to $1$ and all other free variables are set equal to $0$. For this choice of parameters, the solution of the system for matrix $A$ has $x_j=-a$, while the solution of the system for matrix $B$ has $x_j=-b$, so that the two systems have different solutions.

In case $2$, there is a variable $x_i$ which is a pivot variable for one matrix, let's say $A$, and a free variable for the other matrix $B$. The system for matrix $B$ has a solution in which $x_i=1$ and $x_j=0$ for all other free variables $x_j$. However, by Proposition \ref{prop:pivotfree} this cannot be a solution of the system for the matrix $A$. This completes the proof of case $2$.
\end{proof}

Now, we say that the matrix $B$ is \textbf{row equivalent}\index{matrix!row equivalence}\index{row equivalence} to the matrix $A$ if $B$ can be obtained from $A$ by performing a sequence of elementary row operations. By Theorem~\ref{thm:elementaryoperationsandsolns}, we know that row equivalent systems have exactly the same solutions. Now, we can use Lemma \ref{lem:rrefsolutions} and Theorem \ref{thm:rowequivalent} to prove the main result of this section, which is that each matrix $A$ has a unique {\rref}.

\begin{theorem}{Uniqueness of the {\RREF}}{uniquerref}
  Every matrix $A$ is row equivalent to a unique matrix in {\rref}.
\end{theorem}

\begin{proof}
  By Gauss-Jordan elimination, we already know that every matrix is
  row equivalent to some {\rref}. What we must show is that the
  resulting {\rref} is unique, i.e., does not depend on the order in
  which row operations are performed.
  
  Therefore, let $A$ be an $m \times n$ matrix and let $B$ and $C$ be
  matrices in {\rref}, each row equivalent to $A$. We have to show
  that $B=C$.

  Let $A^{+}$ be the matrix $A$ augmented with a new rightmost column
  consisting entirely of zeros. Similarly, augment matrices $B$ and
  $C$ each with a rightmost column of zeros to obtain $B^{+}$ and
  $C^{+}$. Note that $B^{+}$ and $C^{+}$ are augmented matrices in
  {\rref}, and that both $B^{+}$ and $C^{+}$ are row equivalent to
  $A^{+}$, because the addition of a column of zeros does not change
  the effect of any row operations.

  Now, $A^{+}$, $B^{+}$, and $C^{+}$ can all be considered as
  augmented matrices of homogeneous linear systems in the variables
  $x_1, x_2, \cdots, x_n$. Because all three systems are row
  equivalent, they have exactly the same solutions. By
  Lemma~\ref{lem:rrefsolutions}, we conclude that $B^{+}=C^{+}$.
  Omitting the final column of zeros, we must also have $B=C$.
\end{proof}

