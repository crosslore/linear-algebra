\subsection{Multiplying a matrix and a vector}

One of the most important uses of a matrix is to multiply a matrix by
a vector. In fact, this is one of the reasons matrices were invented.
Let's start by considering an alternative way of writing a system of
linear equations.

\begin{definition}{The vector form of a system of linear equations}{vector-form}
  Suppose we have a system of equations given by
  \begin{equation*}
    \begin{array}{ccc}
      a_{11}x_1 + \ldots + a_{1n}x_n &=& b_1, \\
      a_{21}x_1 + \ldots + a_{2n}x_n &=& b_2, \\
      \vdots \\
      a_{m1}x_1 + \ldots + a_{mn}x_n &=& b_m.
    \end{array}
  \end{equation*}
  We can express this system in \textbf{vector form}%
  \index{system of linear equations!vector form}%
  \index{vector form!of a system of equations}, which is as follows:
  \begin{equation*}
    x_1 \begin{mymatrix}{c} a_{11} \\ a_{21} \\ \vdots \\ a_{m1} \end{mymatrix}
    + x_2 \begin{mymatrix}{c} a_{12} \\ a_{22} \\ \vdots \\ a_{m2} \end{mymatrix}
    + \ldots
    + x_n \begin{mymatrix}{c} a_{1n} \\ a_{2n} \\ \vdots \\ a_{mn} \end{mymatrix}
    ~=~
    \begin{mymatrix}{c} b_1 \\ b_2 \\ \vdots \\ b_m \end{mymatrix}.
  \end{equation*}
\end{definition}

Notice that each vector used here is one column from the corresponding
augmented matrix. There is one vector for each variable in the system,
along with the constant vector. The left-hand side is a linear
combination of column vectors. Linear combinations of column vectors
are so important that we introduce a special notation for them.

\begin{definition}{The product of a matrix and a vector, by columns}{matrix-times-vector-columns}
  \index{multiplication!matrix times vector}%
  \index{matrix!multiplication!matrix times vector}%
  The product of an $m\times n$-matrix $A$ and an $n$-dimensional
  column vector $\vect{x}$ is an $m$-dimensional column vector,
  defined as a linear combination of the columns of $A$ as follows:
  \begin{equation*}
    A\vect{x} \,~=~
    \begin{mymatrix}{cccc}
      a_{11} & a_{12} & \cdots & a_{1n} \\
      a_{21} & a_{22} & \cdots & a_{2n} \\
      \vdots & \vdots & \ddots & \vdots \\
      a_{m1} & a_{m2} & \cdots & a_{mn} \\
    \end{mymatrix}
    \begin{mymatrix}{c}
      x_1 \\
      x_2 \\
      \vdots \\
      x_n
    \end{mymatrix}
    ~=~
    x_1 \begin{mymatrix}{c} a_{11} \\ a_{21} \\ \vdots \\ a_{m1} \end{mymatrix}
    + x_2 \begin{mymatrix}{c} a_{12} \\ a_{22} \\ \vdots \\ a_{m2} \end{mymatrix}
    + \ldots
    + x_n \begin{mymatrix}{c} a_{1n} \\ a_{2n} \\ \vdots \\ a_{mn} \end{mymatrix}.
  \end{equation*}
\end{definition}

In other words, we can think of the vector $\vect{x}$ as encoding
instructions for how to take a linear combination of the columns of
$A$. The product $A\vect{x}$ is computed by taking $x_1$ times the
first column of $A$, plus $x_2$ times the second column of $A$, and so
on. For this to work, $A$ must have the same number of columns as
$\vect{x}$ has components.

\begin{example}{Multiplying a matrix and a vector, by columns}{matrix-times-vector-columns}
  Compute the product
  \begin{equation*}
    \begin{mymatrix}{rrr}
      1 & 2 & 3 \\
      4 & 5 & 6
    \end{mymatrix} \begin{mymatrix}{r}
      7 \\
      8 \\
      9
    \end{mymatrix}.
  \end{equation*}
\end{example}

\begin{solution}
  We have
  \begin{equation*}
    \begin{mymatrix}{rrr}
      1 & 2 & 3 \\
      4 & 5 & 6
    \end{mymatrix} \begin{mymatrix}{r}
      7 \\
      8 \\
      9
    \end{mymatrix}
    ~=~
  7\begin{mymatrix}{c}
    1 \\
    4
  \end{mymatrix}
  + 8 \begin{mymatrix}{c}
    2 \\
    5
  \end{mymatrix}
  + 9 \begin{mymatrix}{c}
    3 \\
    6
  \end{mymatrix}
  = \begin{mymatrix}{c}
    50 \\
    122
  \end{mymatrix}.
\end{equation*}
\end{solution}

There is another way of looking at the product of a matrix and a
vector. Instead of looking at the columns of $A$, we can look at the
rows.

\begin{proposition}{The product of a matrix and a vector, by rows}{matrix-times-vector-rows}
  Let $A$ be an $m\times n$-matrix and let $\vect{x}$ be an $n$-dimensional
  column vector. The product $A\vect{x}$ can also be written like this:
  \begin{equation*}
    A\vect{x} \,~=~
    \begin{mymatrix}{cccc}
      a_{11} & a_{12} & \cdots & a_{1n} \\
      a_{21} & a_{22} & \cdots & a_{2n} \\
      \vdots & \vdots & \ddots & \vdots \\
      a_{m1} & a_{m2} & \cdots & a_{mn} \\
    \end{mymatrix}
    \begin{mymatrix}{c}
      x_1 \\
      x_2 \\
      \vdots \\
      x_n
    \end{mymatrix}
    ~=~
    \begin{mymatrix}{c}
      a_{11}x_1+a_{12}x_2+\ldots+a_{13}x_3 \\
      a_{21}x_1+a_{22}x_2+\ldots+a_{23}x_3 \\
      \vdots \\
      a_{m1}x_1+a_{m2}x_2+\ldots+a_{m3}x_3 \\
    \end{mymatrix}.
  \end{equation*}
\end{proposition}

\begin{example}{Multiplying a matrix and a vector, by rows}{matrix-times-vector-rows}
  Compute the product
  \begin{equation*}
    \begin{mymatrix}{rrr}
      1 & 2 & 3 \\
      4 & 5 & 6
    \end{mymatrix} \begin{mymatrix}{r}
      7 \\
      8 \\
      9
    \end{mymatrix}
  \end{equation*}
  by rows.
\end{example}

\begin{solution}
  We have
  \begin{equation*}
    \begin{mymatrix}{rrr}
      1 & 2 & 3 \\
      4 & 5 & 6
    \end{mymatrix} \begin{mymatrix}{r}
      7 \\
      8 \\
      9
    \end{mymatrix}
    ~=~
    \begin{mymatrix}{c}
      1\cdot 7 + 2\cdot 8 + 3\cdot 9 \\
      4\cdot 7 + 5\cdot 8 + 6\cdot 9
    \end{mymatrix}
    ~=~
    \begin{mymatrix}{c}
      50 \\
      122
    \end{mymatrix}.
  \end{equation*}
  Note that the is exactly the same answer as before.
\end{solution}

When we use Definition~\ref{def:matrix-times-vector-columns}, we
calculate the product by looking at one column of $A$ at a time. When
we use Proposition~\ref{prop:matrix-times-vector-rows}, we calculate the
product by looking at one row of $A$ at a time.  As the above examples
show, both methods give exactly the same answer. Please convince
yourself that this is true in general. This ability to switch back and
forth between a column-based viewpoint and a row-based viewpoint is
one of the central tools of linear algebra.

Using the above operation, we can also write a system of linear
equations in \textbf{matrix form}. In this form, we express the system
as a matrix multiplied by a vector.

\begin{definition}{The matrix form of a system of linear equations}{matrix-form}
  Suppose we have a system of equations given by
  \begin{equation*}
    \begin{array}{c}
      a_{11}x_1 + \ldots + a_{1n}x_n = b_1, \\
      a_{21}x_1 + \ldots + a_{2n}x_n = b_2, \\
      \vdots \\
      a_{m1}x_1 + \ldots + a_{mn}x_n = b_m.
    \end{array}
  \end{equation*}
  Then we can express this system in \textbf{matrix form}%
  \index{system of linear equations!matrix form}%
  \index{matrix form!of a system of equations}, which is as follows:
  \begin{equation*}
    \begin{mymatrix}{cccc}
      a_{11} & a_{12} & \cdots & a_{1n} \\
      a_{21} & a_{22} & \cdots & a_{2n} \\
      \vdots & \vdots & \ddots & \vdots \\
      a_{m1} & a_{m2} & \cdots & a_{mn}
    \end{mymatrix}
    \begin{mymatrix}{c}
      x_1 \\
      x_2 \\
      \vdots \\
      x_n
    \end{mymatrix}
    =
    \begin{mymatrix}{c}
      b_1 \\
      b_2 \\
      \vdots \\
      b_m
    \end{mymatrix}.
  \end{equation*}
\end{definition}

The matrix form of a system of equations is therefore written as
$A\vect{x}=\vect{b}$, where $A$ is the coefficient matrix%
\index{coefficient matrix}%
\index{matrix!coefficient matrix} of the system, $\vect{x}$ is an
$n$-dimensional column vector constructed from the variables of the
system, and $\vect{b}$ is an $m$-dimensional column vector constructed
from the constant terms of the system. Any system of linear equations
can be written in this form.
